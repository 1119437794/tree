{"version":3,"sources":["webpack:///./examples/big-data.js","webpack:///./examples/util.js","webpack:///./examples/big-data-generator.js"],"names":["Demo","state","gData","expandedKeys","checkedKeys","checkedKeys1","selectedKeys","onCheck","setState","onCheckStrictly","console","log","arguments","onSelect","info","onGen","data","componentWillUpdate","nextProps","nextState","notReRender","render","loop","map","item","children","key","title","treeNodes","padding","border","width","margin","length","display","marginRight","props","multiple","React","Component","propTypes","PropTypes","bool","ReactDOM","document","getElementById","generateData","x","y","z","_loop","_level","_preKey","_tns","preKey","tns","i","push","__level","forEach","index","calcTotal","rec","n","isPositionPrefix","smallPos","bigPos","charAt","substr","filterParentPosition","arr","levelObj","posLen","split","levelArr","Object","keys","sort","j","_i","ii","filter","p","nArr","concat","loopData","callback","d","level","pos","spl","str","splitLen","getFilterExpandedKeys","expandedPosArr","indexOf","filterExpandedKeys","isSibling","pos1","pop","join","getRadioSelectKeys","res","pkObjArr","selPkObjArr","lenObj","getPosKey","k","pkArr","pk","Gen","nums","e","preventDefault","vals","getVals","componentDidMount","parseInt","refs","value","fontSize","func","number","defaultProps"],"mappings":"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","file":"examples/big-data.js","sourcesContent":["/* eslint no-console:0 */\nimport 'rc-tree/assets/index.less';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Tree, { TreeNode } from 'rc-tree';\nimport Gen from './big-data-generator';\n\nclass Demo extends React.Component {\n  static propTypes = {\n    multiple: PropTypes.bool,\n  };\n  state = {\n    gData: [],\n    expandedKeys: [],\n    checkedKeys: [],\n    checkedKeys1: [],\n    selectedKeys: [],\n  };\n  componentWillUpdate(nextProps, nextState) {\n    // invoked immediately before rendering with new props or state, not for initial 'render'\n    // see componentWillReceiveProps if you need to call setState\n    // console.log(nextState.gData === this.state.gData);\n    if (nextState.gData === this.state.gData) {\n      this.notReRender = true;\n    } else {\n      this.notReRender = false;\n    }\n  }\n  onCheck = (checkedKeys) => {\n    this.setState({\n      checkedKeys,\n    });\n  }\n  onCheckStrictly = (checkedKeys1, /* extra */) => {\n    console.log(arguments);\n    this.setState({\n      checkedKeys1,\n    });\n  }\n  onSelect = (selectedKeys, info) => {\n    console.log('onSelect', selectedKeys, info);\n    this.setState({\n      selectedKeys,\n    });\n  }\n  onGen = (data) => {\n    this.setState({\n      gData: data,\n      expandedKeys: ['0-0-0-key'],\n      // checkedKeys: ['0-0-0-0-key', '0-0-1-0-key', '0-1-0-0-key'],\n      checkedKeys: ['0-0-0-key'],\n      checkedKeys1: ['0-0-0-key'],\n      selectedKeys: [],\n    });\n  }\n  render() {\n    const loop = data => {\n      return data.map((item) => {\n        if (item.children) {\n          return (<TreeNode key={item.key} title={item.title}>\n            {loop(item.children)}\n          </TreeNode>);\n        }\n        return <TreeNode key={item.key} title={item.title}/>;\n      });\n    };\n    // const s = Date.now();\n    // const treeNodes = loop(this.state.gData);\n    let treeNodes;\n    if (this.treeNodes && this.notReRender) {\n      treeNodes = this.treeNodes;\n    } else {\n      treeNodes = loop(this.state.gData);\n      this.treeNodes = treeNodes;\n    }\n    // console.log(Date.now()-s);\n    return (<div style={{ padding: '0 20px' }}>\n      <Gen onGen={this.onGen} />\n      <div style={{ border: '1px solid red', width: 700, padding: 10 }}>\n        <h5 style={{ margin: 10 }}>大数据量下优化建议：</h5>\n        初始展开的节点少，向dom中插入节点就会少，速度更快。 <br />\n        treeNodes 总数据量尽量少变化，缓存并复用计算出的 treeNodes，可在 componentWillUpdate 等时机做判断。 <br />\n      </div>\n      {this.state.gData.length ? <div style={{ display: 'flex' }}>\n        <div style={{ marginRight: 20 }}>\n          <h3>normal check</h3>\n          <Tree\n            checkable multiple={this.props.multiple}\n            defaultExpandedKeys={this.state.expandedKeys}\n            onCheck={this.onCheck} checkedKeys={this.state.checkedKeys}\n            onSelect={this.onSelect} selectedKeys={this.state.selectedKeys}\n          >\n            {treeNodes}\n          </Tree>\n        </div>\n        <div>\n          <h3>checkStrictly</h3>\n          <Tree\n            checkable checkStrictly multiple={this.props.multiple}\n            defaultExpandedKeys={this.state.expandedKeys}\n            onCheck={this.onCheckStrictly} checkedKeys={this.state.checkedKeys1}\n            onSelect={this.onSelect} selectedKeys={this.state.selectedKeys}\n          >\n            {treeNodes}\n          </Tree>\n        </div>\n      </div> : null}\n    </div>);\n  }\n}\n\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/big-data.js","/* eslint no-loop-func: 0 */\n/* eslint no-console:0 */\n\nexport function generateData(x = 3, y = 2, z = 1, gData = []) {\n  // x：每一级下的节点总数。y：每级节点里有y个节点、存在子节点。z：树的level层级数（0表示一级）\n  function _loop(_level, _preKey, _tns) {\n    const preKey = _preKey || '0';\n    const tns = _tns || gData;\n\n    const children = [];\n    for (let i = 0; i < x; i++) {\n      const key = `${preKey}-${i}`;\n      tns.push({ title: `${key}-label`, key: `${key}-key` });\n      if (i < y) {\n        children.push(key);\n      }\n    }\n    if (_level < 0) {\n      return tns;\n    }\n    const __level = _level - 1;\n    children.forEach((key, index) => {\n      tns[index].children = [];\n      return _loop(__level, key, tns[index].children);\n    });\n\n    return null;\n  }\n  _loop(z);\n  return gData;\n}\nexport function calcTotal(x = 3, y = 2, z = 1) {\n  /* eslint no-param-reassign:0 */\n  const rec = (n) => n >= 0 ? x * (y ** n--) + rec(n) : 0;\n  return rec(z + 1);\n}\nconsole.log('总节点数（单个tree）：', calcTotal());\n// 性能测试：总节点数超过 2000（z要小）明显感觉慢。z 变大时，递归多，会卡死。\n\nexport const gData = generateData();\n\nfunction isPositionPrefix(smallPos, bigPos) {\n  if (bigPos.length < smallPos.length) {\n    return false;\n  }\n  // attention: \"0-0-1\" \"0-0-10\"\n  if ((bigPos.length > smallPos.length) && (bigPos.charAt(smallPos.length) !== '-')) {\n    return false;\n  }\n  return bigPos.substr(0, smallPos.length) === smallPos;\n}\n// console.log(isPositionPrefix(\"0-1\", \"0-10-1\"));\n\n\n// arr.length === 628, use time: ~20ms\nexport function filterParentPosition(arr) {\n  const levelObj = {};\n  arr.forEach((item) => {\n    const posLen = item.split('-').length;\n    if (!levelObj[posLen]) {\n      levelObj[posLen] = [];\n    }\n    levelObj[posLen].push(item);\n  });\n  const levelArr = Object.keys(levelObj).sort();\n  for (let i = 0; i < levelArr.length; i++) {\n    if (levelArr[i + 1]) {\n      levelObj[levelArr[i]].forEach(ii => {\n        for (let j = i + 1; j < levelArr.length; j++) {\n          levelObj[levelArr[j]].forEach((_i, index) => {\n            if (isPositionPrefix(ii, _i)) {\n              levelObj[levelArr[j]][index] = null;\n            }\n          });\n          levelObj[levelArr[j]] = levelObj[levelArr[j]].filter(p => p);\n        }\n      });\n    }\n  }\n  let nArr = [];\n  levelArr.forEach(i => {\n    nArr = nArr.concat(levelObj[i]);\n  });\n  return nArr;\n}\n// console.log(filterParentPosition(\n//   ['0-2', '0-3-3', '0-10', '0-10-0', '0-0-1', '0-0', '0-1-1', '0-1']\n// ));\n\n\nfunction loopData(data, callback) {\n  const loop = (d, level = 0) => {\n    d.forEach((item, index) => {\n      const pos = `${level}-${index}`;\n      if (item.children) {\n        loop(item.children, pos);\n      }\n      callback(item, index, pos);\n    });\n  };\n  loop(data);\n}\n\nfunction spl(str) {\n  return str.split('-');\n}\nfunction splitLen(str) {\n  return str.split('-').length;\n}\n\nexport function getFilterExpandedKeys(data, expandedKeys) {\n  const expandedPosArr = [];\n  loopData(data, (item, index, pos) => {\n    if (expandedKeys.indexOf(item.key) > -1) {\n      expandedPosArr.push(pos);\n    }\n  });\n  const filterExpandedKeys = [];\n  loopData(data, (item, index, pos) => {\n    expandedPosArr.forEach(p => {\n      if ((splitLen(pos) < splitLen(p)\n        && p.indexOf(pos) === 0 || pos === p)\n        && filterExpandedKeys.indexOf(item.key) === -1) {\n        filterExpandedKeys.push(item.key);\n      }\n    });\n  });\n  return filterExpandedKeys;\n}\n\nfunction isSibling(pos, pos1) {\n  pos.pop();\n  pos1.pop();\n  return pos.join(',') === pos1.join(',');\n}\n\nexport function getRadioSelectKeys(data, selectedKeys, key) {\n  const res = [];\n  const pkObjArr = [];\n  const selPkObjArr = [];\n  loopData(data, (item, index, pos) => {\n    if (selectedKeys.indexOf(item.key) > -1) {\n      pkObjArr.push([pos, item.key]);\n    }\n    if (key && key === item.key) {\n      selPkObjArr.push(pos, item.key);\n    }\n  });\n  const lenObj = {};\n  const getPosKey = (pos, k) => {\n    const posLen = splitLen(pos);\n    if (!lenObj[posLen]) {\n      lenObj[posLen] = [[pos, k]];\n    } else {\n      lenObj[posLen].forEach((pkArr, i) => {\n        if (isSibling(spl(pkArr[0]), spl(pos))) {\n          // 后来覆盖前者\n          lenObj[posLen][i] = [pos, k];\n        } else if (spl(pkArr[0]) !== spl(pos)) {\n          lenObj[posLen].push([pos, k]);\n        }\n      });\n    }\n  };\n  pkObjArr.forEach((pk) => {\n    getPosKey(pk[0], pk[1]);\n  });\n  if (key) {\n    getPosKey(selPkObjArr[0], selPkObjArr[1]);\n  }\n\n  Object.keys(lenObj).forEach((item) => {\n    lenObj[item].forEach((i) => {\n      if (res.indexOf(i[1]) === -1) {\n        res.push(i[1]);\n      }\n    });\n  });\n  return res;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/util.js","/* eslint react/no-string-refs:0 */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { generateData, calcTotal } from './util';\n\nclass Gen extends React.Component {\n  static propTypes = {\n    onGen: PropTypes.func,\n    x: PropTypes.number,\n    y: PropTypes.number,\n    z: PropTypes.number,\n  };\n  static defaultProps = {\n    onGen: () => {},\n    x: 20,\n    y: 18,\n    z: 1,\n  };\n  state = {\n    nums: '',\n  };\n  componentDidMount() {\n    const vals = this.getVals();\n    this.props.onGen(generateData(vals.x, vals.y, vals.z));\n  }\n  onGen = (e) => {\n    e.preventDefault();\n    const vals = this.getVals();\n    this.props.onGen(generateData(vals.x, vals.y, vals.z));\n    this.setState({\n      nums: calcTotal(vals.x, vals.y, vals.z),\n    });\n  }\n  getVals() {\n    return {\n      x: parseInt(this.refs.x.value, 10),\n      y: parseInt(this.refs.y.value, 10),\n      z: parseInt(this.refs.z.value, 10),\n    };\n  }\n  render() {\n    const { x, y, z } = this.props;\n    return (<div style={{ padding: '0 20px' }}>\n      <h2>big data generator</h2>\n      <form onSubmit={this.onGen}>\n        <label style={{ marginRight: 10 }}>\n          x: <input ref=\"x\" defaultValue={x} type=\"number\" min=\"1\" required style={{ width: 50 }} />\n        </label>\n        <label style={{ marginRight: 10 }}>\n          y: <input ref=\"y\" defaultValue={y} type=\"number\" min=\"0\" required style={{ width: 50 }} />\n        </label>\n        <label style={{ marginRight: 10 }}>\n          z: <input ref=\"z\" defaultValue={z} type=\"number\" min=\"0\" required style={{ width: 50 }} />\n        </label>\n        <button type=\"submit\">Generate</button>\n        <p>total nodes: {this.state.nums || calcTotal(x, y, z)}</p>\n      </form>\n      <p style={{ fontSize: 12 }}>\n        x：每一级下的节点总数。y：每级节点里有y个节点、存在子节点。z：树的level层级数（0表示一级）\n      </p>\n    </div>);\n  }\n}\nexport default Gen;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/big-data-generator.js"],"sourceRoot":""}