{"version":3,"sources":["webpack:///./examples/util.js","webpack:///./examples/draggable.js","webpack:///./examples/draggable.less?e041"],"names":["generateData","x","y","z","gData","_loop","_level","_preKey","_tns","preKey","tns","children","i","key","push","title","__level","forEach","index","calcTotal","rec","n","Math","pow","console","log","isPositionPrefix","smallPos","bigPos","length","charAt","substr","filterParentPosition","arr","levelObj","item","posLen","split","levelArr","Object","keys","sort","j","_i","ii","filter","p","nArr","concat","loopData","data","callback","loop","d","level","pos","spl","str","splitLen","getFilterExpandedKeys","expandedKeys","expandedPosArr","indexOf","filterExpandedKeys","isSibling","pos1","pop","join","getRadioSelectKeys","selectedKeys","res","pkObjArr","selPkObjArr","lenObj","getPosKey","k","pkArr","pk","Demo","state","autoExpandParent","onDragStart","info","onDragEnter","setState","onDrop","dropKey","node","props","eventKey","dragKey","dragNode","dropPos","dropPosition","Number","dragObj","splice","dropToGap","ar","onExpand","arguments","render","map","React","Component","ReactDOM","document","getElementById"],"mappings":"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","file":"examples/draggable.js","sourcesContent":["/* eslint no-loop-func: 0*/\n/* eslint no-console:0 */\n\nexport function generateData(x = 3, y = 2, z = 1, gData = []) {\n  // x：每一级下的节点总数。y：每级节点里有y个节点、存在子节点。z：树的level层级数（0表示一级）\n  function _loop(_level, _preKey, _tns) {\n    const preKey = _preKey || '0';\n    const tns = _tns || gData;\n\n    const children = [];\n    for (let i = 0; i < x; i++) {\n      const key = `${preKey}-${i}`;\n      tns.push({ title: `${key}-label`, key: `${key}-key` });\n      if (i < y) {\n        children.push(key);\n      }\n    }\n    if (_level < 0) {\n      return tns;\n    }\n    const __level = _level - 1;\n    children.forEach((key, index) => {\n      tns[index].children = [];\n      return _loop(__level, key, tns[index].children);\n    });\n  }\n  _loop(z);\n  return gData;\n}\nexport function calcTotal(x = 3, y = 2, z = 1) {\n  /* eslint no-param-reassign:0*/\n  const rec = (n) => n >= 0 ? x * Math.pow(y, n--) + rec(n) : 0;\n  return rec(z + 1);\n}\nconsole.log('总节点数（单个tree）：', calcTotal());\n// 性能测试：总节点数超过 2000（z要小）明显感觉慢。z 变大时，递归多，会卡死。\n\nexport const gData = generateData();\n\nfunction isPositionPrefix(smallPos, bigPos) {\n  if (bigPos.length < smallPos.length) {\n    return false;\n  }\n  // attention: \"0-0-1\" \"0-0-10\"\n  if ((bigPos.length > smallPos.length) && (bigPos.charAt(smallPos.length) !== '-')) {\n    return false;\n  }\n  return bigPos.substr(0, smallPos.length) === smallPos;\n}\n// console.log(isPositionPrefix(\"0-1\", \"0-10-1\"));\n\n\n// arr.length === 628, use time: ~20ms\nexport function filterParentPosition(arr) {\n  const levelObj = {};\n  arr.forEach((item) => {\n    const posLen = item.split('-').length;\n    if (!levelObj[posLen]) {\n      levelObj[posLen] = [];\n    }\n    levelObj[posLen].push(item);\n  });\n  const levelArr = Object.keys(levelObj).sort();\n  for (let i = 0; i < levelArr.length; i++) {\n    if (levelArr[i + 1]) {\n      levelObj[levelArr[i]].forEach(ii => {\n        for (let j = i + 1; j < levelArr.length; j++) {\n          levelObj[levelArr[j]].forEach((_i, index) => {\n            if (isPositionPrefix(ii, _i)) {\n              levelObj[levelArr[j]][index] = null;\n            }\n          });\n          levelObj[levelArr[j]] = levelObj[levelArr[j]].filter(p => p);\n        }\n      });\n    }\n  }\n  let nArr = [];\n  levelArr.forEach(i => {\n    nArr = nArr.concat(levelObj[i]);\n  });\n  return nArr;\n}\n// console.log(filterParentPosition(\n//   ['0-2', '0-3-3', '0-10', '0-10-0', '0-0-1', '0-0', '0-1-1', '0-1']\n// ));\n\n\nfunction loopData(data, callback) {\n  const loop = (d, level = 0) => {\n    d.forEach((item, index) => {\n      const pos = `${level}-${index}`;\n      if (item.children) {\n        loop(item.children, pos);\n      }\n      callback(item, index, pos);\n    });\n  };\n  loop(data);\n}\n\nfunction spl(str) {\n  return str.split('-');\n}\nfunction splitLen(str) {\n  return str.split('-').length;\n}\n\nexport function getFilterExpandedKeys(data, expandedKeys) {\n  const expandedPosArr = [];\n  loopData(data, (item, index, pos) => {\n    if (expandedKeys.indexOf(item.key) > -1) {\n      expandedPosArr.push(pos);\n    }\n  });\n  const filterExpandedKeys = [];\n  loopData(data, (item, index, pos) => {\n    expandedPosArr.forEach(p => {\n      if ((splitLen(pos) < splitLen(p)\n        && p.indexOf(pos) === 0 || pos === p)\n        && filterExpandedKeys.indexOf(item.key) === -1) {\n        filterExpandedKeys.push(item.key);\n      }\n    });\n  });\n  return filterExpandedKeys;\n}\n\nfunction isSibling(pos, pos1) {\n  pos.pop();\n  pos1.pop();\n  return pos.join(',') === pos1.join(',');\n}\n\nexport function getRadioSelectKeys(data, selectedKeys, key) {\n  const res = [];\n  const pkObjArr = [];\n  const selPkObjArr = [];\n  loopData(data, (item, index, pos) => {\n    if (selectedKeys.indexOf(item.key) > -1) {\n      pkObjArr.push([pos, item.key]);\n    }\n    if (key && key === item.key) {\n      selPkObjArr.push(pos, item.key);\n    }\n  });\n  const lenObj = {};\n  const getPosKey = (pos, k) => {\n    const posLen = splitLen(pos);\n    if (!lenObj[posLen]) {\n      lenObj[posLen] = [[pos, k]];\n    } else {\n      lenObj[posLen].forEach((pkArr, i) => {\n        if (isSibling(spl(pkArr[0]), spl(pos))) {\n          // 后来覆盖前者\n          lenObj[posLen][i] = [pos, k];\n        } else if (spl(pkArr[0]) !== spl(pos)) {\n          lenObj[posLen].push([pos, k]);\n        }\n      });\n    }\n  };\n  pkObjArr.forEach((pk) => {\n    getPosKey(pk[0], pk[1]);\n  });\n  if (key) {\n    getPosKey(selPkObjArr[0], selPkObjArr[1]);\n  }\n\n  Object.keys(lenObj).forEach((item) => {\n    lenObj[item].forEach((i) => {\n      if (res.indexOf(i[1]) === -1) {\n        res.push(i[1]);\n      }\n    });\n  });\n  return res;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/util.js","/* eslint no-console:0 */\nimport 'rc-tree/assets/index.less';\nimport './draggable.less';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Tree, { TreeNode } from 'rc-tree';\nimport { gData } from './util';\n\nclass Demo extends React.Component {\n  state = {\n    gData,\n    autoExpandParent: true,\n    expandedKeys: ['0-0-key', '0-0-0-key', '0-0-0-0-key'],\n  };\n  onDragStart = (info) => {\n    console.log('start', info);\n  }\n  onDragEnter = (info) => {\n    console.log('enter', info);\n    this.setState({\n      expandedKeys: info.expandedKeys,\n    });\n  }\n  onDrop = (info) => {\n    console.log('drop', info);\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    const dropPos = info.node.props.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n    // const dragNodesKeys = info.dragNodesKeys;\n    const loop = (data, key, callback) => {\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          return callback(item, index, arr);\n        }\n        if (item.children) {\n          return loop(item.children, key, callback);\n        }\n      });\n    };\n    const data = [...this.state.gData];\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n    if (info.dropToGap) {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    } else {\n      loop(data, dropKey, (item) => {\n        item.children = item.children || [];\n        // where to insert 示例添加到尾部，可以是随意位置\n        item.children.push(dragObj);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  }\n  onExpand = (expandedKeys) => {\n    console.log('onExpand', arguments);\n    this.setState({\n      expandedKeys,\n      autoExpandParent: false,\n    });\n  }\n  render() {\n    const loop = data => {\n      return data.map((item) => {\n        if (item.children && item.children.length) {\n          return <TreeNode key={item.key} title={item.title}>{loop(item.children)}</TreeNode>;\n        }\n        return <TreeNode key={item.key} title={item.title} />;\n      });\n    };\n    return (<div className=\"draggable-demo\">\n      <h2>draggable</h2>\n      <p>drag a node into another node</p>\n      <div className=\"draggable-container\">\n        <Tree\n          expandedKeys={this.state.expandedKeys}\n          onExpand={this.onExpand} autoExpandParent={this.state.autoExpandParent}\n          draggable\n          onDragStart={this.onDragStart}\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n        >\n          {loop(this.state.gData)}\n        </Tree>\n      </div>\n    </div>);\n  }\n}\n\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/draggable.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/draggable.less\n// module id = 189\n// module chunks = 3"],"sourceRoot":""}